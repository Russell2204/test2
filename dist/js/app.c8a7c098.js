(function(){"use strict";var e={5775:function(e,t,n){var a=n(9242),r=n(3396);const i={class:"container"};function o(e,t,n,a,o,s){const c=(0,r.up)("Header"),l=(0,r.up)("Main");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(c),(0,r.Wm)(l)])}var s=n.p+"img/logo.f2ddc264.svg",c=n.p+"img/water.ee4f4542.svg";const l={class:"header"},u={class:"header__nav"},d=(0,r._)("a",{href:"",class:"logo"},[(0,r._)("img",{src:s,alt:""}),(0,r._)("span",{class:"logo__span"},"vue weather")],-1),g={class:"header__search"};function m(e,t,n,i,o,s){return(0,r.wg)(),(0,r.iD)("header",l,[(0,r._)("nav",u,[d,(0,r._)("div",g,[(0,r._)("img",{src:c,alt:"",onClick:t[0]||(t[0]=(...e)=>s.darkMode&&s.darkMode(...e))}),(0,r.wy)((0,r._)("input",{type:"text",class:"header__search-input",placeholder:"Выбрать город","onUpdate:modelValue":t[1]||(t[1]=e=>o.city=e),onKeydown:t[2]||(t[2]=(0,a.D2)((t=>e.getWeather(o.city)),["enter"]))},null,544),[[a.nr,o.city]])])])])}var p=n(65),h={data(){return{city:""}},methods:{...(0,p.nv)(["getWeather"]),darkMode(){let e=document.body.style.getPropertyValue("--bg");"white"==e?(document.body.style.setProperty("--bg","rgb(27, 27, 27)"),document.body.style.setProperty("--text","white")):(document.body.style.setProperty("--bg","white"),document.body.style.setProperty("--text","black"))}},created(){document.body.style.setProperty("--bg","white"),document.body.style.setProperty("--text","black")}},_=n(89);const w=(0,_.Z)(h,[["render",m]]);var y=w;const f={key:0,class:"main"},v={key:1,class:"loading"},b=(0,r._)("h1",null,"Идет загрузка...",-1),k=[b];function M(e,t,n,a,i,o){const s=(0,r.up)("MainContent"),c=(0,r.up)("MainWeek");return e.weather?((0,r.wg)(),(0,r.iD)("main",f,[(0,r.Wm)(s),(0,r.Wm)(c)])):((0,r.wg)(),(0,r.iD)("div",v,k))}var D=n(7139),x=n.p+"img/headerBg.ed86aa79.svg",W=n.p+"img/temp.0a800606.svg",z=n.p+"img/pressure.dec93a4d.svg",O=n.p+"img/osadki.b2bec82d.svg",P=n.p+"img/wind.e3f8caaa.svg";const Z={class:"main__content"},$={class:"main__content-left"},K={class:"main__content-degree"},j=(0,r._)("p",{class:"main__content-today"},"Сегодня",-1),S={class:"main__content-time"},C={class:"main__content-city"},T={class:"main__content-left-img"},U=["src"],I={class:"main__content-right"},L=(0,r._)("img",{src:x,alt:"",class:"main__content-right-bg"},null,-1),H={class:"main__content-right-item"},R=(0,r._)("div",{class:"main__content-right-img"},[(0,r._)("img",{src:W,alt:""})],-1),q=(0,r._)("span",null,"Температура",-1),V={class:"main__content-right-item"},B=(0,r._)("div",{class:"main__content-right-img"},[(0,r._)("img",{src:z,alt:""})],-1),E=(0,r._)("span",null,"Давление ",-1),F={class:"main__content-right-item"},Y=(0,r._)("div",{class:"main__content-right-img"},[(0,r._)("img",{src:O,alt:""})],-1),A=(0,r._)("span",null,"Осадки",-1),G={class:"main__content-right-item"},J=(0,r._)("div",{class:"main__content-right-img"},[(0,r._)("img",{src:P,alt:""})],-1),N=(0,r._)("span",null,"Ветер",-1);function Q(e,t,n,a,i,o){return(0,r.wg)(),(0,r.iD)("div",Z,[(0,r._)("div",$,[(0,r._)("p",K,(0,D.zw)(Math.round(e.weather.current.temp))+"° ",1),j,(0,r._)("p",S,"Время: "+(0,D.zw)(o.getTime),1),(0,r._)("p",C,"Город: "+(0,D.zw)(e.weather.name),1),(0,r._)("div",T,[(0,r._)("img",{src:o.getImg,alt:""},null,8,U)])]),(0,r._)("div",I,[L,(0,r._)("div",H,[R,q,(0,r._)("p",null,(0,D.zw)(Math.round(e.weather.current.temp))+"° - ощущается как "+(0,D.zw)(Math.round(e.weather.current.feels_like))+"°",1)]),(0,r._)("div",V,[B,E,(0,r._)("p",null,(0,D.zw)(o.getPressure)+" мм ртутного столба - нормальное",1)]),(0,r._)("div",F,[Y,A,(0,r._)("p",null,"Вероятность осадков "+(0,D.zw)(e.weather.current.clouds)+" %",1)]),(0,r._)("div",G,[J,N,(0,r._)("p",null,(0,D.zw)(e.weather.current.wind_speed)+" м/с "+(0,D.zw)(o.getK)+" - легкий ветер",1)])])])}const X={"ясно":n(2661),"дождь":n(483),"небольшой дождь":n(7419),"небольшой дождь и солнце":n(5618),"пасмурно":n(5977),"переменная облачность":n(5977)},ee=.750062,te=e=>Math.round(e*ee);function ne(e,t){const n=1e3*e,a=new Date(n);let r="day"==t?a.toLocaleString("ru-RU",{day:"numeric"}):"month"==t?a.toLocaleString("ru-RU",{month:"long"}):"weekday"==t?a.toLocaleString("ru-RU",{weekday:"long"}):"";return r}var ae={computed:{...(0,p.rn)(["weather"]),description(){return this.weather.current.weather[0].description},getImg(){return X[this.description]||X["ясно"]},getTime(){return(new Date).toLocaleString("en-US",{timeZone:this.weather.timezone,timeStyle:"short",hourCycle:"h23"})},getPressure(){return te(this.weather.current.pressure)},getK(){if(this.weather.current.wind_deg>90&&this.weather.current.wind_deg<180)return"юго-восток"}}};const re=(0,_.Z)(ae,[["render",Q]]);var ie=re;const oe={class:"main__week"};function se(e,t,n,a,i,o){const s=(0,r.up)("Day");return(0,r.wg)(),(0,r.iD)("div",oe,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.weather.daily,((e,t)=>((0,r.wg)(),(0,r.j4)(s,{key:t,day:e},null,8,["day"])))),128))])}const ce={class:"main__week-item"},le={class:"main__week-item-title"},ue={class:"main__week-item-date"},de={class:"main__week-item-img"},ge=["src"],me={class:"main__week-item-temp"},pe={class:"main__week-item-info"};function he(e,t,n,a,i,o){return(0,r.wg)(),(0,r.iD)("div",ce,[(0,r._)("h2",le,(0,D.zw)(o.getWeekDay),1),(0,r._)("p",ue,(0,D.zw)(o.getDay)+" "+(0,D.zw)(o.getMonth),1),(0,r._)("div",de,[(0,r._)("img",{src:o.getImg,alt:""},null,8,ge)]),(0,r._)("p",me,(0,D.zw)(Math.round(n.day.temp.max))+"°",1),(0,r._)("p",pe,(0,D.zw)(o.description),1)])}var _e={props:["day"],computed:{description(){return this.day.weather[0].description},getImg(){return X[this.description]||X["ясно"]},getDay(){return ne(this.day.dt,"day")},getMonth(){return ne(this.day.dt,"month")},getWeekDay(){return ne(this.day.dt,"weekday")}}};const we=(0,_.Z)(_e,[["render",he]]);var ye=we,fe={components:{Day:ye},computed:{...(0,p.rn)(["weather"])}};const ve=(0,_.Z)(fe,[["render",se]]);var be=ve,ke={components:{MainContent:ie,MainWeek:be},computed:{...(0,p.rn)(["weather"])},methods:{...(0,p.nv)(["getWeather"])},mounted(){this.getWeather("Ташкент")}};const Me=(0,_.Z)(ke,[["render",M]]);var De=Me,xe={components:{Header:y,Main:De}};const We=(0,_.Z)(xe,[["render",o]]);var ze=We,Oe=n(4161);const Pe=(0,p.MT)({state:{apiKey:"a6fbb52b2f2bc00b4cf4aaa2411f4e48",weather:null},mutations:{getWeather(e,t){e.weather=t}},actions:{async getWeather({commit:e,state:t},n){try{if("http:"===location.protocol){let a=await Oe.Z.get(`http://api.openweathermap.org/geo/1.0/direct?q=${n}&appid=${t.apiKey}`),{lat:r,lon:i,local_names:o}=a.data[0],s=await Oe.Z.get(`https://api.openweathermap.org/data/2.8/onecall?lat=${r}&lon=${i}&exclude=minutely,hourly,alerts&appid=${t.apiKey}&units=metric&lang=ru`),c={...s.data,name:n};e("getWeather",c)}else{let a=await Oe.Z.get(`https://api.openweathermap.org/geo/1.0/direct?q=${n}&appid=${t.apiKey}`),{lat:r,lon:i,local_names:o}=a.data[0],s=await Oe.Z.get(`https://api.openweathermap.org/data/2.8/onecall?lat=${r}&lon=${i}&exclude=minutely,hourly,alerts&appid=${t.apiKey}&units=metric&lang=ru`),c={...s.data,name:n};e("getWeather",c)}}catch(a){console.log(a)}}},getters:{}});var Ze=Pe;const $e=(0,a.ri)(ze);$e.use(Ze),$e.mount("#app")},5977:function(e,t,n){e.exports=n.p+"img/cloud.26d56e75.svg"},7419:function(e,t,n){e.exports=n.p+"img/miniraind.8f5c4cf8.svg"},483:function(e,t,n){e.exports=n.p+"img/rain.b043f62a.svg"},5618:function(e,t,n){e.exports=n.p+"img/rainSun.acfe2a69.svg"},2661:function(e,t,n){e.exports=n.p+"img/sun.53daf752.svg"}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,i){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],r=e[u][1],i=e[u][2];for(var s=!0,c=0;c<a.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,r,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/weather/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,i,o=a[0],s=a[1],c=a[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(c)var u=c(n)}for(t&&t(a);l<o.length;l++)i=o[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},a=self["webpackChunkopenweather"]=self["webpackChunkopenweather"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(5775)}));a=n.O(a)})();
//# sourceMappingURL=app.c8a7c098.js.map